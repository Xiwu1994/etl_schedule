job:
  content:
  - reader:
      name: mongodbreader
      parameter:
        address:
        - '${mongodb_ip}:${mongodb_port}'
        userName: ''
        userPassword: ''
        dbName: '${mongodb_database}'
        collectionName: admin_users
        column:
        - name: _id
          type: long
        - name: backup_mgr
          type: string
        - name: backup_mgr_id
          type: long
        - name: name
          type: string
        - name: nick
          type: string
        - name: cts
          type: date
        - name: roles
          type: array
          splitter: ','
        - name: del
          type: boolean
        - name: st
          type: long
        - name: ol
          type: boolean
        - name: ch
          type: string
        - name: city
          type: string
        - name: hiredate
          type: date
        - name: email
          type: string
        - name: urc
          type: long
        - name: buid
          type: array
          splitter: ','
        - name: granted_authz
          type: array
          splitter: ','
        - name: removed_authz
          type: array
          splitter: ','
        - name: nb
          type: long
        - name: last_forget_pass_time
          type: date
        - name: adcids
          type: array
          splitter: ','
        - name: is_fup
          type: boolean
    writer:
      name: odpswriter
      parameter:
        odpsServer: http://service.odps.aliyun.com/api
        accessId: '${odps_access_id}'
        accessKey: '${odps_access_key}'
        project: '${warehouse_project}'
        table: ods_beeper2_mongodb_admin_user_snapshots
        partition: 'snapshot_date=${snapshot_date}'
        truncate: true
        tunnelServer: ''
        column:
        - id
        - backup_mgr
        - backup_mgr_id
        - name
        - nick
        - cts
        - roles
        - del
        - st
        - ol
        - ch
        - city
        - hiredate
        - email
        - urc
        - buid
        - granted_authz
        - removed_authz
        - nb
        - last_forget_pass_time
        - adcids
        - is_fup
  setting:
    speed:
      channel: '1'
