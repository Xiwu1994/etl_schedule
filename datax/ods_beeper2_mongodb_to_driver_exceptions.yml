job:
  content:
  - reader:
      name: mongodbreader
      parameter:
        address:
        - '${mongodb_ip}:${mongodb_port}'
        userName: ''
        userPassword: ''
        dbName: '${mongodb_database}'
        collectionName: to_driver_exceptions
        column:
        - name: exid
          type: long
        - name: type
          type: long
        - name: trans_event_id
          type: long
        - name: trans_task_id
          type: long
        - name: trans_bid_id
          type: long
        - name: did
          type: long
        - name: cuid
          type: long 
        - name: date
          type: date
        - name: what
          type: string
        - name: bid_mgr
          type: string
        - name: verdict
          type: string
        - name: fine
          type: string
        - name: fine_type
          type: string
        - name: city
          type: string
        - name: adc_id
          type: bigint
        - name: finance_fine_money
          type: bigint
        - name: deal_to_c_money
          type: bigint
        - name: deal_type_to_c
          type: bigint
        - name: aeids
          type: array
          splitter: ','
        - name: cids
          type: array
          splitter: ','
        - name: tids
          type: array
          splitter: ','  
        - name: pcids
          type: array
          splitter: ','
        - name: source
          type: long
        - name: cts
          type: date
        - name: st
          type: long
    writer:
      name: odpswriter
      parameter:
        odpsServer: http://service.odps.aliyun.com/api
        accessId: '${odps_access_id}'
        accessKey: '${odps_access_key}'
        project: '${warehouse_project}'
        table: ods_beeper2_mongodb_customer_snapshots
        partition: 'snapshot_date=${snapshot_date}'
        truncate: true
        tunnelServer: ''
        column:
        - name: exid
        - name: type
        - name: trans_event_id
        - name: trans_task_id
        - name: trans_bid_id
        - name: did
        - name: cuid
        - name: date
        - name: what
        - name: bid_mgr
        - name: verdict
        - name: fine
        - name: fine_type
        - name: city
        - name: adc_id
        - name: finance_fine_money
        - name: deal_to_c_money
        - name: deal_type_to_c
        - name: aeids
        - name: cids
        - name: tids
        - name: pcids
        - name: source
        - name: cts
        - name: st
          
  setting:
    speed:
      channel: '1'
